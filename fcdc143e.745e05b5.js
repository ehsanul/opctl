(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{212:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return i})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return u}));var r=t(1),o=t(9),a=(t(0),t(216)),c={title:"How do I get opctl containers to communicate?"},i={id:"training/containers/how-do-i-get-opctl-containers-to-communicate",title:"How do I get opctl containers to communicate?",description:"## TLDR;",source:"@site/docs/training/containers/how-do-i-get-opctl-containers-to-communicate.md",permalink:"/docs/training/containers/how-do-i-get-opctl-containers-to-communicate",editUrl:"https://github.com/opctl/opctl/edit/main/website/docs/training/containers/how-do-i-get-opctl-containers-to-communicate.md",lastUpdatedBy:"Chris Dostert",lastUpdatedAt:1605586799,sidebar:"docs",previous:{title:"How do I communicate with an opctl container?",permalink:"/docs/training/containers/how-do-i-communicate-with-an-opctl-container"},next:{title:"How do I run a container?",permalink:"/docs/training/containers/how-do-i-run-a-container"}},l=[{value:"TLDR;",id:"tldr",children:[]},{value:"Example",id:"example",children:[]}],p={rightToc:l},s="wrapper";function u(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)(s,Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"tldr"},"TLDR;"),Object(a.b)("p",null,"Opctl attaches all containers to a virtual overlay network.  "),Object(a.b)("p",null,"Adding a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"../../reference/opspec/op-directory/op/call/container/index#name"}),"name")," attribute to container(s) adds a corresponding network wide DNS A record which resolves to the assigned ip(s) of the container(s)."),Object(a.b)("p",null,"Whether containers are defined in the same op or not makes no difference, they can still reach each other."),Object(a.b)("p",null,"If multiple containers have the same ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"../../reference/opspec/op-directory/op/call/container/index#name"}),"name")," requests will be load balanced across them."),Object(a.b)("h2",{id:"example"},"Example"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Run this op:"),Object(a.b)("pre",{parentName:"li"},Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),"name: ping\nrun:\n  parallel:\n    - container:\n        image: { ref: alpine }\n        name: container1\n        cmd: [sleep, 1000000]\n    - container:\n        image: { ref: alpine }\n        # ping container1 by its name\n        cmd: [ping, container1]\n"))),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Observe the second container succeeds in ",Object(a.b)("inlineCode",{parentName:"p"},"ping"),"ing ",Object(a.b)("inlineCode",{parentName:"p"},"container1"),". "))))}u.isMDXComponent=!0},216:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return f}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=o.a.createContext({}),s=function(e){var n=o.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i({},n,{},e)),t},u=function(e){var n=s(e.components);return(o.a.createElement(p.Provider,{value:n},e.children))},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(t),m=r,b=u["".concat(c,".").concat(m)]||u[m]||d[m]||a;return t?o.a.createElement(b,i({ref:n},p,{components:t})):o.a.createElement(b,i({ref:n},p))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,c=new Array(a);c[0]=b;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[m]="string"==typeof e?e:r,c[1]=i;for(var p=2;p<a;p++)c[p]=t[p];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);